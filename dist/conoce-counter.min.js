+function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();(function(a){var d="conoceCounter",e=a.fn[d],f={id:"counter",minValue:1,maxValue:9999,value:1,quantity:1,buttonLabel:"Add",errorMsg:"Sorry, the minimum value was reached"},g=function(){function d(c,e){var g=this;b(this,d),this._config=a.extend({},f,e),this._$element=c instanceof jQuery?c:a(c);var h="counter-"+this.id;this._isBootstrap3=3==a.fn.modal.Constructor.VERSION[0],this._dropdown='<a class="dropdown-toggle text-dark" href="#" id="'+this._config.id+'" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="far i_add fa-w-6 fa-2x" art="'+this.id+'"></i></a>',this._dropdownMenu='<div class="dropdown-menu rounded border-dark" aria-labelledby="'+this._config.id+'">',this._counterRow='<div class="row '+h+'">',this._counterCol='<div class="col">',this._counterInputGroup='<div class="input-group">',this._inputMinusButton='<span class="input-group-btn col-2"><button type="button" class="btn btn-default btn-number minus" data-type="minus" data-field="counterValue"><span class="far i_minus"></span></button></span>',this._inputPlusButton='<span class="input-group-btn col-2"><button type="button" class="btn btn-default btn-number plus" data-type="plus" data-field="counterValue"><span class="far i_add_14"></span></button></span>',this._inputTextField='<input type="text" name="counterValue" class="form-control input-number col-2" value="'+this._config.value+'" min="'+this._config.minValue+'" max="'+this._config.maxValue+'">',this._emitButton='<button class="btn btn-cofarcu col-4">'+this._config.buttonLabel+"</button>",this.$inputMinusButton=a(this._inputMinusButton),this.$inputPlusButton=a(this._inputPlusButton),this.$inputTextField=a(this._inputTextField),this.$emitButton=a(this._emitButton),this.$inputGroup=a(this._counterInputGroup).append(this.$inputMinusButton).append(this.$inputTextField).append(this.$inputPlusButton).append(this.$emitButton),this.$counterBody=a(this._counterCol).append(this.$inputGroup),this.$counterDiv=a(this._counterRow).append(a(this.$counterBody)),this.$href=a(this._dropdown),this.$modal=a(this._dropdownMenu).append(this.$counterDiv),this._$element.append(a(this.$href)).append(a(this.$modal)),this.$inputMinusButton.on("click",function(a){a.preventDefault(),g.operate(a)}),this.$inputPlusButton.on("click",function(a){g.operate(a)}),this.$inputTextField.on("focusin",function(){a(this).data("oldValue",a(this).val())}),this.$inputTextField.on("change",function(a){a.preventDefault(),g._change(a)}),this.$inputTextField.on("keydown",function(a){g._pressKey(a),a.preventDefault(),a.stopPropagation()}),this.$emitButton.on("click",function(a){g._selectValue(a),a.preventDefault(),a.stopPropagation()})}return c(d,null,[{key:"Default",get:function(){return f}}]),c(d,[{key:"operate",value:function(b){b.preventDefault(),b.stopPropagation();var c=a(b.currentTarget).find(".btn-number"),d=c.attr("data-field"),e=c.attr("data-type"),f=a(this._$element).find("input[name='"+d+"']"),g=parseInt(f.val());isNaN(g)?f.val(0):"minus"==e?(g>f.attr("min")&&f.val(g-1).change(),parseInt(f.val())==f.attr("min")&&c.attr("disabled",!0)):"plus"==e&&(g<f.attr("max")&&f.val(g+1).change(),parseInt(f.val())==f.attr("max")&&c.attr("disabled",!0))}},{key:"_change",value:function(b){var c=a(b.target),d=parseInt(c.attr("min")),e=parseInt(c.attr("max")),f=parseInt(c.val()),g=c.attr("name");f>=d?a(this._$element).find(".btn-number[data-type='minus'][data-field='"+g+"']").removeAttr("disabled"):(alert(this._config.errorMsg),c.val(c.data("oldValue"))),f<=e?a(this._$element).find(".btn-number[data-type='plus'][data-field='"+g+"']").removeAttr("disabled"):(alert(this._config.errorMsg),c.val(c.data("oldValue")))}},{key:"_pressKey",value:function(b){a.inArray(b.keyCode,[46,8,9,27,13,190])!==-1||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}},{key:"_selectValue",value:function(a){var b=this.$inputTextField.val();this.$emitButton.trigger("counter:select-value",{id:this._config.id,value:b}),this.close()}},{key:"element",value:function(){return this._$element}},{key:"modal",value:function(){return this._$modal}},{key:"close",value:function(){return this.$modal.removeClass("show")}},{key:"_error",value:function(a){return console.error(a),this._containerToUse().html(a),this._resize(300,300),this}}],[{key:"_jQueryInterface",value:function(b){var c=this;return b=b||{},this.each(function(){var e=a(c),f=a.extend({},d.Default,e.data(),"object"==typeof b&&b);new d(c,f)})}}]),d}();return a.fn[d]=g._jQueryInterface,a.fn[d].Constructor=g,a.fn[d].noConflict=function(){return a.fn[d]=e,g._jQueryInterface},g})(jQuery)}(jQuery);
//# sourceMappingURL=conoce-counter.min.js.map